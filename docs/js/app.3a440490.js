(function(e){function t(t){for(var n,o,c=t[0],s=t[1],u=t[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a={app:0},i=[];function c(e){return s.p+"js/"+({"group-adin":"group-adin","group-admin":"group-admin"}[e]||e)+"."+{"group-adin":"87974c60","group-admin":"a4f7b864"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r={"group-adin":1,"group-admin":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({"group-adin":"group-adin","group-admin":"group-admin"}[e]||e)+"."+{"group-adin":"ed1aaaa1","group-admin":"7a7f4c8d"}[e]+".css",a=s.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===a))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){u=p[c],l=u.getAttribute("data-href");if(l===n||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],d.parentNode.removeChild(d),r(i)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,r[1](p)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1e8c":function(e,t,r){"use strict";var n=r("59d1"),o=r.n(n);o.a},"1eb7":function(e,t,r){"use strict";var n=r("38d5"),o=r.n(n);o.a},"2f63":function(e,t,r){},3618:function(e,t,r){"use strict";var n=r("ca1f"),o=r.n(n);o.a},"38d5":function(e,t,r){},"41cb":function(e,t,r){"use strict";r("d3b7");var n=r("2b0e"),o=r("8c4f"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container content"},[r("ProductList")],1)},i=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content"},[r("ul",e._l(e.nest,(function(t){return r("li",{key:t.id},[r("h1",{staticClass:"title-1"},[e._v(e._s(t.name))]),r("ul",{staticClass:"org"},e._l(t.departments,(function(t){return r("li",{key:t.id,staticClass:"department"},[r("h2",{staticClass:"department__name"},[e._v(e._s(t.name))]),r("ul",e._l(t.products,(function(t){return r("li",{key:t.id,staticClass:"product"},[r("router-link",{attrs:{to:{name:"product",params:{slug:t.slug,ref:t}}}},[r("h3",{staticClass:"product__name"},[e._v(e._s(t.name))])])],1)})),0)])})),0)])})),0)])])},s=[],u=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),l=r("2f62");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={computed:d({},Object(l["c"])(["nest"]))},m=f,b=(r("1e8c"),r("2877")),v=Object(b["a"])(m,c,s,!1,null,"5d030381",null),h=v.exports,g={components:{ProductList:h}},O=g,j=Object(b["a"])(O,a,i,!1,null,null,null),y=j.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container content"},[r("div",{staticClass:"login"},[1===e.error?r("div",{staticClass:"error"},[e._v(" Epost-adressen du forsøkte å logge inn med er ikke registrert. Kontakt systemadministrator for å få tilgang. ")]):e._e(),2===e.error?r("div",{staticClass:"error"},[e._v(" Klarte ikke å logge inn med Google. Kontakt systemadministrator. ")]):e._e(),3===e.error?r("div",{staticClass:"error"},[e._v(" Passordet er feil. ")]):e._e(),r("h1",{staticClass:"title-1"},[e._v("Du er ikke logget inn")]),r("p",[e._v("Logg inn med organisasjonskonto for å bruke denne applikasjonen.")]),r("button",{staticClass:"btn",on:{click:function(t){return e.submit()}}},[e._v("Logg inn med Google")]),r("div",{staticClass:"content",staticStyle:{display:"flex","flex-direction":"column"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("button",{staticClass:"btn",on:{click:function(t){return e.submitPassword()}}},[e._v("Logg inn med Dashboard")])])])])},_=[],P=(r("96cf"),r("89ba")),k=r("ee2e");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={data:function(){return{error:!0,password:""}},computed:C({},Object(l["c"])(["user"])),methods:{submit:function(){var e=this;k["auth"].signInWithPopup(k["loginProvider"]).then((function(){e.$router.push("/")})).catch((function(){e.error=2}))},submitPassword:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="epost@internet.com",e.next=3,k["auth"].signInWithEmailAndPassword(t,this.password).catch((function(e){"auth/wrong-password"===e.code&&(n.error=3)}));case 3:r=e.sent,r?this.$router.push("/"):this.error=3;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},beforeRouteEnter:function(e,t,r){k["auth"].currentUser?r("/"):r()},mounted:function(){this.error=this.$route.params.error}},R=$,S=(r("f4c3"),Object(b["a"])(R,w,_,!1,null,"acf962e0",null)),D=S.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("div",[r("header",{staticClass:"product-header"},[r("div",{staticClass:"container"},[r("div",{staticClass:"product-header__container"},[r("div",{staticClass:"product-header__name",attrs:{contenteditable:""},on:{blur:e.updateName}},[r("h1",{ref:"name",staticClass:"title-1"},[e._v(e._s(e.user.displayName))])]),e.user.photoURL?r("img",{staticClass:"product-header__profile-image",attrs:{src:e.user.photoURL,alt:"Profilbilde for "+e.user.name}}):e._e(),r("image-uploader",{staticClass:"image-uploader",attrs:{"max-width":250,"max-height":250,quality:.6,"auto-rotate":!0,"output-format":"blob",accept:"image/*","do-not-resize":"['gif', 'svg']",preview:!1},on:{input:e.setImage,onUpload:e.uploadPhoto}})],1)])])]):e._e()},q=[];r("b0c0");function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={name:"Profile",data:function(){return{uploading:!1}},computed:N({},Object(l["c"])(["user"])),methods:{setImage:function(e){this.hasImage=!0,this.file=e,this.uploadPhoto()},uploadPhoto:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.uploading=!0,t=k["storage"].ref("photos/".concat(this.user.id)),e.next=4,t.put(this.file);case 4:return r=e.sent,e.next=7,r.ref.getDownloadURL().then((function(e){return e}));case 7:return n=e.sent,e.next=10,this.user.ref.update({photoURL:n});case 10:this.user.photoURL=n,this.uploading=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateName:function(){var e=this.$refs.name.innerHTML;this.user.ref.update({displayName:e})}}},I=U,A=(r("c5c3"),Object(b["a"])(I,E,q,!1,null,"12586f3c",null)),T=A.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.product?r("div",[r("header",{staticClass:"product-header"},[r("div",{staticClass:"container"},[r("div",{staticClass:"product-header__container"},[r("div",{staticClass:"product-header__name"},[r("h1",{staticClass:"title-1"},[e._v(e._s(e.product.name))])]),e.product.photoURL?r("img",{staticClass:"product-header__profile-image",attrs:{src:e.product.photoURL,alt:"Profilbilde for "+e.product.name}}):e._e(),r("span",{staticClass:"product-header__edit"},[r("router-link",{attrs:{to:{name:"edit-product",params:{slug:e.$route.params.slug}}}},[e._v(" Endre produkt ")])],1)])])]),r("nav",{staticClass:"sub-nav"},[r("div",{staticClass:"container container--sidebar"},e._l(e.quarters,(function(t,n){return r("a",{key:t.name,staticClass:"sub-nav__element",class:{"router-link-active":t.isActive},attrs:{href:"#"},on:{click:function(t){return e.setQuarter(n)}}},[e._v(e._s(t.name))])})),0)])]):e._e()},Q=[],z=r("7e35");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={name:"Product",data:function(){return{product:null}},computed:G({},Object(l["c"])(["quarters"])),mounted:function(){z["h"].call(this,this.$route.params.slug)},methods:{setQuarter:function(e){this.quarters.forEach((function(t,r){t.isActive=e===r}))}}},H=B,Y=(r("e20b"),Object(b["a"])(H,K,Q,!1,null,"881ecfa4",null)),F=Y.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.product?r("div",[r("header",{staticClass:"product-header"},[r("div",{staticClass:"container"},[r("div",{staticClass:"product-header__container"},[r("router-link",{staticClass:"product-header__edit",attrs:{to:{name:"product",params:{id:e.$route.params.id}}}},[e._v(" Gå tilbake til "+e._s(e.product.name)+" ")]),r("div",{staticClass:"product-header__name"},[r("h1",{staticClass:"title-1"},[e._v("Endre «"+e._s(e.product.name)+"»")])]),r("img",{staticClass:"product-header__profile-image",attrs:{src:e.product.photoURL||"",alt:"Profilbilde for "+e.product.name}})],1)])]),r("nav",{staticClass:"sub-nav"},[r("div",{staticClass:"container container--sidebar"},[r("router-link",{staticClass:"sub-nav__element",attrs:{exact:"",to:{name:"edit-product"}}},[e._v("Detaljer")]),r("router-link",{staticClass:"sub-nav__element",attrs:{to:{name:"edit-product-objectives"}}},[e._v("Mål")])],1)]),r("div",{staticClass:"content container container--sidebar"},[r("router-view",{attrs:{docref:e.product.ref}})],1)]):e._e()},V=[];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={name:"Product",data:function(){return{product:null}},computed:X({},Object(l["c"])(["user"])),beforeRouteEnter:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(z["g"])(t.params.slug);case 2:if(!e.sent){e.next=6;break}n(),e.next=8;break;case 6:throw n("/"),new Error("You do not have access to this page!");case 8:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),created:function(){z["h"].call(this,this.$route.params.slug)}},ee=Z,te=(r("1eb7"),Object(b["a"])(ee,J,V,!1,null,"2c5c766a",null)),re=te.exports,ne=r("9b9c"),oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"title-2"},[e._v("Mål")]),r("div",{staticClass:"objective"},[r("div",[r("span",{staticClass:"form-label"},[e._v("Kvartal")]),r("v-select",{staticClass:"form-group objective__select",attrs:{label:"name",options:e.quarters}})],1),r("div",{staticClass:"add"},[r("button",{staticClass:"btn btn--ghost",attrs:{disabled:e.expand},on:{click:function(t){e.expand=!0}}},[e._v("+ Legg til nytt mål")]),e.expand?r("add-objective",{attrs:{productref:e.docref},on:{"close-menu":function(t){e.expand=!1}}}):e._e()],1)]),r("div",{staticClass:"content"},[r("transition-group",{staticClass:"grid-3",attrs:{name:"grid-animation",tag:"div"}},e._l(e.objectiveRefs,(function(e){return r("edit-objective",{key:e.id,staticClass:"grid-animation-item",attrs:{"objective-ref":e}})})),1)],1)])},ae=[],ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"popout"},[r("span",{staticClass:"form-label"},[e._v("Kvartal")]),r("v-select",{staticClass:"form-group",class:{"form-group--error":e.$v.quarter.$error},attrs:{value:e.quarter,options:e.availableQuarters},on:{input:e.setSelectedQuarter}}),e.$v.quarter.$error?r("div",{staticClass:"form-group--error"},[e._v("Kan ikke være tom")]):e._e(),r("label",{staticClass:"form-group",class:{"form-group--error":e.$v.title.$error}},[r("span",{staticClass:"form-label"},[e._v("Tittel")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.title.$model,expression:"$v.title.$model"}],attrs:{type:"text"},domProps:{value:e.$v.title.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.title,"$model",t.target.value)}}})]),e.$v.title.$error?r("div",{staticClass:"form-group--error"},[e._v("Kan ikke være tom")]):e._e(),r("label",{staticClass:"form-group",class:{"form-group--error":e.$v.body.$error}},[r("span",{staticClass:"form-label"},[e._v("Beskrivelse")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.$v.body.$model,expression:"$v.body.$model"}],attrs:{rows:"4"},domProps:{value:e.$v.body.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.body,"$model",t.target.value)}}})]),e.$v.body.$error?r("div",{staticClass:"form-group--error"},[e._v("Kan ikke være tom")]):e._e(),r("button",{staticClass:"btn",attrs:{disabled:e.submit},on:{click:e.send}},[e._v("Legg til")]),r("button",{staticClass:"btn",on:{click:function(t){return e.$emit("close-menu",!1)}}},[e._v("Lukk")]),e.showInfo?r("p",[e._v(e._s(e.info))]):e._e()],1)},ce=[],se=(r("99af"),r("0d03"),r("727c")),ue=r("4855"),le=r("b5f5"),pe=r("b5ae");function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me={data:function(){return{title:"",quarter:"",body:"",submit:!1,showInfo:!1,info:""}},props:{productref:{type:Object,required:!0}},validations:{title:{required:pe["required"]},quarter:{required:pe["required"]},body:{required:pe["required"]}},mounted:function(){this.quarter=this.chosenQuarter},computed:fe({},Object(l["c"])(["chosenQuarter"]),{newObjective:function(){return{objective_title:this.title,objective_body:this.body,quarter:this.quarter}},availableQuarters:function(){var e=new Date(2019,1,1),t=new Date,r=[];while(t>e){var n=Object(se["a"])(e),o=Object(ue["a"])(e);r.push("".concat(n," Q").concat(o)),e=Object(le["a"])(e,1)}return r.push("".concat(Object(se["a"])(e)," Q").concat(Object(ue["a"])(e))),e=Object(le["a"])(e,1),r.push("".concat(Object(se["a"])(e)," Q").concat(Object(ue["a"])(e))),r}}),methods:{setSelectedQuarter:function(e){this.$v.quarter.$touch(),this.quarter=e},send:function(){var e=this;this.$v.$touch(),this.$v.$invalid?this.setSubmitInfo(!1,!0,"Nødvendige felt kan ikke være tomme"):(this.setSubmitInfo(!0,!1,""),this.productref.collection("objectives").add(this.newObjective).then((function(){e.$emit("close-menu")})))},setSubmitInfo:function(e,t,r){this.submit=e,this.showInfo=t,this.info=r}}},be=me,ve=Object(b["a"])(be,ie,ce,!1,null,null,null),he=ve.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.objective?r("div",{staticClass:"item",class:{loading:e.loading}},[r("label",{staticClass:"form-group",class:{"form-group--error":e.$v.objective.objective_title.$error}},[r("span",{staticClass:"form-label"},[e._v("Tittel")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.objective.objective_title.$model,expression:"$v.objective.objective_title.$model",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.$v.objective.objective_title.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.objective.objective_title,"$model",t.target.value.trim())},function(t){e.objective.edited=!0}],blur:function(t){return e.$forceUpdate()}}})]),e.$v.objective.objective_title.$error?r("div",{staticClass:"form-group--error"},[e._v("Kan ikke være tom")]):e._e(),r("label",{staticClass:"form-group",class:{"form-group--error":e.$v.objective.objective_body.$error}},[r("span",{staticClass:"form-label"},[e._v("Beskrivelse")]),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.objective.objective_body.$model,expression:"$v.objective.objective_body.$model",modifiers:{trim:!0}}],attrs:{rows:"4"},domProps:{value:e.$v.objective.objective_body.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.objective.objective_body,"$model",t.target.value.trim())},function(t){e.objective.edited=!0}],blur:function(t){return e.$forceUpdate()}}})]),e.$v.objective.objective_body.$error?r("div",{staticClass:"form-group--error"},[e._v("Kan ikke være tom")]):e._e(),r("span",{staticClass:"form-label"},[e._v("Kvartal")]),r("v-select",{staticClass:"form-group",class:{"form-group--error":e.$v.quarter.$error},attrs:{value:e.quarter,options:e.quarters},on:{input:e.setSelectedQuarter}}),r("div",{staticClass:"item__footer"},[r("button",{staticClass:"btn",attrs:{disabled:!e.objective.edited||e.submit},on:{click:function(t){return e.updateObj(e.objective)}}},[e._v(" Lagre endringer ")]),r("button",{staticClass:"btn btn--danger",on:{click:function(t){return e.deleteObj(e.objective)}}},[e._v("Slett mål")])]),e.showInfo?r("p",[e._v(e._s(e.info))]):e._e()],1):e._e()},Oe=[],je={props:{objectiveRef:{type:Object,required:!0}},validations:{objective:{objective_title:{required:pe["required"]},objective_body:{required:pe["required"]}},quarter:{required:pe["required"]}},data:function(){return{quarter:"",submit:!1,showInfo:!1,info:"",loading:!1}},mounted:function(){var e=this;void 0!==this.objectiveRef&&this.objectiveRef.ref.onSnapshot((function(t){e.objective=t.data()}))},methods:{setSelectedQuarter:function(e){this.$v.quarter.$touch(),this.objective.edited=!0,this.quarter=e},updateObj:function(e){var t=this;this.$v.$touch(),this.$v.$invalid?this.setSubmitInfo(!1,!0,"Nødvendige felt kan ikke være tomme"):(this.setSubmitInfo(!0,!1,""),this.updateObjective(e).then((function(){t.updateObject({key:"Objectives",data:e})})).then((function(){t.objective.edited=!1,t.setSubmitInfo(!1,!0,"Oppdatering vellykket!")})).catch((function(){t.objective.edited=!1,t.setSubmitInfo(!1,!0,"Noe gikk galt")})))},deleteObj:function(e){var t=this;this.loading=!0,this.deleteObjective(e).then((function(){t.$toasted.show("Slettet «".concat(e.objective_title,"»"),{action:[{text:"Angre",onClick:function(r,n){e.archived="",t.updateObjective(e).then((function(){return t.getAllData()})).then((function(){n.goAway(0)}))}},{text:"Lukk",onClick:function(e,t){t.goAway(0)}}]})})).then((function(){t.loading=!1}))},setSubmitInfo:function(e,t,r){this.submit=e,this.showInfo=t,this.info=r}}},ye=je,we=(r("85f9"),Object(b["a"])(ye,ge,Oe,!1,null,"0a516781",null)),_e=we.exports;function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xe={components:{AddObjective:he,EditObjective:_e},data:function(){return{expand:!1,objectiveRefs:[]}},computed:ke({},Object(l["c"])(["quarters"])),mounted:function(){var e=this;this.docref.collection("objectives").onSnapshot((function(t){e.objectiveRefs=t.docs}))},props:{docref:{type:Object,required:!0}}},Ce=xe,$e=(r("4449"),Object(b["a"])(Ce,oe,ae,!1,null,"f31c92b4",null)),Re=$e.exports,Se=function(){return r.e("group-admin").then(r.bind(null,"6966"))},De=function(){return r.e("group-admin").then(r.bind(null,"6e64"))},Ee=function(){return r.e("group-adin").then(r.bind(null,"cd86"))};n["a"].use(o["a"]);var qe=[{path:"/",name:"home",component:y},{path:"/login",name:"login",component:D},{path:"/profile",name:"profile",component:T},{path:"/product/:slug",name:"product",component:F},{path:"/product/:slug/edit",component:re,children:[{name:"edit-product",path:"/",component:ne["a"]},{name:"edit-product-objectives",path:"objectives",component:Re}]},{path:"/admin",name:"admin",component:Se,children:[{name:"admin-users",path:"/",component:De},{name:"admin-objects",path:"data",component:Ee}]}],Le=new o["a"]({mode:"history",base:"/",routes:qe});Le.beforeEach((function(e,t,r){window.scroll(0,0),Ne()||"/login"===e.path?r():r("/login")}));t["a"]=Le;function Ne(){return k["auth"].currentUser}},4449:function(e,t,r){"use strict";var n=r("fcb5"),o=r.n(n);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var n=r("2b0e"),o=r("4a7a"),a=r.n(o),i=r("1dce"),c=r.n(i),s=r("252c"),u=r("f13c"),l=r.n(u),p=r("e3c4"),d=r.n(p),f=r("a65d"),m=r.n(f),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("the-header"),r("router-view")],1)},v=[],h=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),g=r("2f62"),O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"header",class:{dev:e.dev}},[r("div",{staticClass:"container navbar"},[r("h2",{staticClass:"title-3"},[r("router-link",{attrs:{to:"/"}},[e._v(" OKR-tracker "),e.dev?r("span",[e._v("(DEV)")]):e._e()])],1),e.user?r("div",{staticClass:"right"},[e.user.isDashboardUser?r("span",[e._v("Dashboard")]):e._e(),e.user?r("router-link",{staticClass:"menu-item",attrs:{to:{name:"profile"}}},[e._v(e._s(e.user.displayName))]):e._e(),e.user&&e.user.admin?r("router-link",{staticClass:"menu-item",attrs:{to:{name:"admin-users"}}},[e._v("Admin")]):e._e(),r("button",{on:{click:e.logout}},[e._v("Logg ut")])],1):e._e()])])},j=[],y=r("ee2e");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={data:function(){return{auth:y["auth"],dev:!1}},computed:_({},Object(g["c"])(["user"])),methods:{logout:function(){var e=this;y["auth"].signOut().then((function(){e.$router.push("/login")}))}}},k=P,x=(r("3618"),r("2877")),C=Object(x["a"])(k,O,j,!1,null,"085cbdf0",null),$=C.exports;function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={components:{TheHeader:$},methods:S({},Object(g["b"])(["initializeApp"])),mounted:function(){this.initializeApp()}};document.body.addEventListener("mousedown",(function(){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(){document.body.classList.remove("using-mouse")}));var E,q=D,L=(r("5c0b"),Object(x["a"])(q,b,v,!1,null,null,null)),N=L.exports,U=r("41cb"),I=r("c0d6"),A=r("7e35"),T=(r("6dfc"),r("6eb0"),r("ee2e"));n["a"].config.productionTip=!1,n["a"].use(c.a),n["a"].use(s["a"]),n["a"].use(m.a,{position:"bottom-right",className:"toast"}),n["a"].use(l.a),n["a"].use(d.a),n["a"].component("v-select",a.a),n["a"].config.productionTip=!1,T.auth.onAuthStateChanged((function(e){Object(A["e"])(e),E||(E=new n["a"]({el:"#app",router:U["a"],store:I["a"],render:function(e){return e(N)}}))}))},"59d1":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"7e35":function(e,t,r){"use strict";r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return f})),r.d(t,"g",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"c",(function(){return j})),r.d(t,"a",(function(){return w})),r.d(t,"d",(function(){return P})),r.d(t,"f",(function(){return x})),r.d(t,"b",(function(){return $}));r("a4d3"),r("99af"),r("4de4"),r("4160"),r("caad6"),r("d81d"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("2532"),r("3ca3"),r("159b"),r("ddb0"),r("96cf");var n=r("89ba"),o=r("2fa7"),a=r("c0d6"),i=r("ee2e"),c=r("41cb");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=i["db"].collection("users");function p(e){var t=l.doc(e.email);return i["db"].runTransaction((function(r){return r.get(t).then((function(n){if(!n.exists)throw new Error("Document does not exist!");var o=n.data(),a=e.displayName,i=e.photoURL,c=e.email,s={displayName:a,photoURL:i,email:c},l=u({},s,{},o);r.update(t,l)}))})).catch((function(e){throw new Error(e)}))}function d(e){var t=this;i["db"].collectionGroup("products").where("slug","==",e).onSnapshot(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.docs.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.docs[0].ref.get();case 4:n=e.sent,t.product=f(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function f(e){if(e){var t=e.id===i["dashboardUser"];return u({id:e.id,ref:e.ref,isDashboardUser:t},e.data())}}function m(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i["auth"].currentUser.email,"string"!==typeof t){e.next=7;break}return e.next=4,i["db"].collectionGroup("products").where("slug","==",t).get().then((function(e){return e.docs[0]})).then(f).then((function(e){return e&&e.team?e.team.map((function(e){return e.id})):[]})).catch((function(e){throw new Error(e)}));case 4:n=e.sent,e.next=8;break;case 7:console.log(t);case 8:return e.abrupt("return",n.includes(r));case 9:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}a["a"].commit("set_user",null),e.next=12;break;case 4:return e.next=6,g(t);case 6:if(!e.sent){e.next=11;break}p(t),i["db"].collection("users").doc(t.email).onSnapshot((function(e){a["a"].commit("set_user",f(e))})),e.next=12;break;case 11:i["auth"].signOut().then((function(){a["a"].commit("set_user",null),c["a"].push({name:"login",params:{error:1}})}));case 12:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function g(e){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i["db"].collection("users").doc(t.email).get().then((function(e){return e.exists})));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["db"].collection("orgs");case 2:t=e.sent,t.onSnapshot((function(e){r.orgs=e.docs.map((function(e){return u({},{id:e.id},{},e.data())})),r.selectedOrgId=r.orgs[0].id,w.call(r,r.selectedOrgId)}));case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(e){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=i["db"].collection("orgs/".concat(t,"/departments")),r.onSnapshot((function(e){n.depts=e.docs.map((function(e){return u({},{id:e.id},{},e.data())}))}));case 2:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function P(e,t){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=i["db"].collection("orgs/".concat(t,"/departments/").concat(r,"/products")).where("archived","==",!1),n.onSnapshot((function(e){o.products=e.docs.map((function(e){return u({},{id:e.id},{},e.data())}))}));case 2:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function x(){return C.apply(this,arguments)}function C(){return C=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i["auth"].currentUser.email,e.abrupt("return",i["db"].collection("users").doc(t).get().then((function(e){return e.data().admin})));case 2:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}var $=function(){return N(i["db"],"orgs",R)};function R(e){return S.apply(this,arguments)}function S(){return S=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.ref,e.next=3,N(r,"departments",D);case 3:return n=e.sent,e.abrupt("return",u({departments:n},t.data()));case 5:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function D(e){return E.apply(this,arguments)}function E(){return E=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.ref,e.next=3,N(r,"products",q);case 3:return n=e.sent,e.abrupt("return",u({products:n},t.data()));case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function q(e){return L.apply(this,arguments)}function L(){return L=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u({id:t.id,ref:t.ref},t.data()));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}var N=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.collection(r).where("archived","==",!1).get();case 2:return o=e.sent,a=o.docs.map(n),e.abrupt("return",Promise.all(a));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},"85f9":function(e,t,r){"use strict";var n=r("2f63"),o=r.n(n);o.a},"940c":function(e,t,r){},"9b9c":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.product?r("div",[r("p",[e._v("Navn")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.name,expression:"product.name"}],ref:"nameref",attrs:{type:"text"},domProps:{value:e.product.name},on:{input:[function(t){t.target.composing||e.$set(e.product,"name",t.target.value)},e.updateSlug]}}),r("p",[e._v("Slug")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.slug,expression:"product.slug"}],attrs:{type:"text",disabled:""},domProps:{value:e.product.slug},on:{input:function(t){t.target.composing||e.$set(e.product,"slug",t.target.value)}}}),e.product.photoURL?r("img",{attrs:{src:e.product.photoURL}}):e._e(),r("image-uploader",{attrs:{"max-width":250,"max-height":250,quality:.6,"auto-rotate":!0,"output-format":"blob",accept:"image/*","do-not-resize":"['gif', 'svg']",preview:!1},on:{input:e.setImage,onUpload:e.uploadPhoto}}),r("div",{staticClass:"form-group"},[r("label",[r("span",{staticClass:"form-label"},[e._v("Mission statement")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.product.mission_statement,expression:"product.mission_statement"}],attrs:{rows:"4"},domProps:{value:e.product.mission_statement},on:{input:function(t){t.target.composing||e.$set(e.product,"mission_statement",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("span",{staticClass:"form-label"},[e._v("Team")]),r("v-select",{staticClass:"form-group objective__select",attrs:{label:"displayName",multiple:"",options:e.users},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.displayName||t.id)+" "),t.displayName!==t.id?r("span",[e._v("("+e._s(t.id)+")")]):e._e()]}}],null,!1,3222050001),model:{value:e.product.team,callback:function(t){e.$set(e.product,"team",t)},expression:"product.team"}})],1),r("button",{on:{click:e.saveObject}},[e._v("Lagre")]),r("button",{on:{click:e.deleteObject}},[e._v("Slett")])],1):e._e()},o=[],a=(r("a4d3"),r("4de4"),r("4160"),r("d81d"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("96cf"),r("89ba")),i=r("2fa7"),c=r("2f62"),s=r("ee2e"),u=(r("a15b"),r("0d03"),r("4d63"),r("ac1f"),r("25f0"),r("5319"),r("1276"),function(e){var t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",r="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",n=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(n,(function(e){return r.charAt(t.indexOf(e))})).replace(/&/g,"-og-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")});function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={data:function(){return{product:null}},computed:p({},Object(c["c"])(["users"])),props:{docref:{type:Object,required:!0}},watch:{docref:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.product=null,t.get().then(f.bind(this));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.docref.onSnapshot(f.bind(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{saveObject:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.product.team,this.product.team=t.map((function(e){return e.ref})),e.next=4,this.docref.update(this.product);case 4:this.product.team=t;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteObject:function(){this.docref.update({archived:!0}),this.product=null},setImage:function(e){this.hasImage=!0,this.file=e,this.uploadPhoto()},updateSlug:function(){this.product.slug=u(this.product.name)},uploadPhoto:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.uploading=!0,t=s["storage"].ref("products/".concat(this.docref.id)),e.next=4,t.put(this.file);case 4:return r=e.sent,e.next=7,r.ref.getDownloadURL();case 7:return n=e.sent,e.next=10,this.docref.update({photoURL:n});case 10:this.product.photoURL=n,this.uploading=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};function f(e){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.product=t.data(),r=this.product.team||[],n=r.map((function(e){return e.get()})),e.next=5,Promise.all(n);case 5:o=e.sent,this.product.team=o.map((function(e){return p({id:e.id,ref:e.ref},e.data())})).map((function(e){return e.displayName=e.displayName||e.id,e}));case 7:case"end":return e.stop()}}),e,this)}))),m.apply(this,arguments)}var b=d,v=r("2877"),h=Object(v["a"])(b,n,o,!1,null,null,null);t["a"]=h.exports},"9c0c":function(e,t,r){},"9c1a":function(e,t,r){},c0d6:function(e,t,r){"use strict";r("4de4"),r("d81d"),r("96cf");var n=r("89ba"),o=r("2b0e"),a=r("2f62"),i=r("ee2e"),c=(r("99af"),r("26e9"),r("0d03"),r("bc70")),s=r("74b5"),u=r("4855"),l=function(){var e=new Date("2019-01-01"),t=new Date,r=Object(c["a"])(Object(s["a"])(t,6)),n=[];while(e<r){var o=e.getFullYear(),a=Object(u["a"])(e),i=e<t&&e>Object(c["a"])(t);n.push({name:"Q".concat(a," ").concat(o),isActive:i}),e=Object(s["a"])(e,3)}return n.reverse()},p=l,d=r("7e35"),f={initializeApp:function(e){var t=e.commit,r=e.dispatch;r("watchUsers"),r("watchProducts"),t("set_quarters",p())},watchProducts:function(e){var t=e.commit;i["db"].collectionGroup("products").onSnapshot(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Object(d["b"])();case 3:e.t1=e.sent,(0,e.t0)("set_nested_data",e.t1);case 5:case"end":return e.stop()}}),e)}))))},watchUsers:function(e){var t=e.commit;i["db"].collection("users").onSnapshot((function(e){var r=e.docs.filter((function(e){return e.id!==i["dashboardUser"]})).map(d["i"]).map((function(e){return e.displayName=e.displayName||e.id,e}));t("set_users",r)}))}};o["a"].use(a["a"]);var m={get_user_emails:function(e){return e.users.map((function(e){return e.id}))}},b={set_user:function(e,t){e.user=t},set_quarters:function(e,t){e.quarters=t},set_users:function(e,t){e.users=t},set_nested_data:function(e,t){e.nest=t}};t["a"]=new a["a"].Store({state:{user:null,users:[],nest:[],quarters:[]},getters:m,mutations:b,actions:f})},c5c3:function(e,t,r){"use strict";var n=r("d613"),o=r.n(n);o.a},ca1f:function(e,t,r){},d613:function(e,t,r){},e20b:function(e,t,r){"use strict";var n=r("940c"),o=r.n(n);o.a},ee2e:function(e,t,r){"use strict";r.r(t),r.d(t,"dashboardUser",(function(){return a})),r.d(t,"db",(function(){return c})),r.d(t,"auth",(function(){return s})),r.d(t,"loginProvider",(function(){return l})),r.d(t,"storage",(function(){return u}));var n=r("8aa5"),o=r.n(n),a=(r("e71f"),"epost@internet.com"),i={apiKey:"AIzaSyAYuXngV-NE-_MS1Cdq-UvlOHd4_x1LoBM",authDomain:"okr-tracker-prod.firebaseapp.com",databaseURL:"https://okr-tracker-prod.firebaseio.com",projectId:"okr-tracker-prod",storageBucket:"okr-tracker-prod.appspot.com",messagingSenderId:"536015468623",appId:"1:536015468623:web:5ba0ebf72bd760ea53123a",measurementId:"G-C3K88Y4TG"};o.a.initializeApp(i);var c=o.a.firestore(),s=o.a.auth(),u=o.a.storage(),l=new o.a.auth.GoogleAuthProvider},f4c3:function(e,t,r){"use strict";var n=r("9c1a"),o=r.n(n);o.a},fcb5:function(e,t,r){}});
//# sourceMappingURL=app.3a440490.js.map